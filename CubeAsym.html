<html> 
 
<head> 
<title>Cube Asymmetric Puzzle</title> 
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1"> 
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
 
<script type="text/javascript" src="glMatrix-0.9.5.min.js"></script> 
<script type="text/javascript" src="webgl-utils.js"></script> 
<script type="text/javascript" src="utils.js"></script> 
<script type="text/javascript" src="Move.js"></script> 
<script type="text/javascript" src="Sequence.js"></script> 
<script type="text/javascript" src="PieceModel.js"></script> 
<script type="text/javascript" src="Piece.js"></script> 
<script type="text/javascript" src="Camera.js"></script>
<script type="text/javascript" src="DGui.js"></script>
<script type="text/javascript" src="Puzzle.js"></script> 
<script type="text/javascript" src="CubeAsym.js"></script> 
 
<script id="tex-shader-f" type="x-shader/x-fragment"> 
    #ifdef GL_ES
    precision highp float;
    #endif
 
    uniform sampler2D uSampler;
    varying vec2 vTextureCoord;
   
    void main(void) {
        gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));
    }
</script> 
 
<script id="tex-shader-v" type="x-shader/x-vertex"> 
    attribute vec3 aVertexPosition;
    attribute vec2 aTextureCoord;
 
    uniform mat4 uMVMatrix;
    uniform mat4 uPMatrix;
    uniform mat3 uNMatrix;
    varying vec2 vTextureCoord;
 
    void main(void) {
        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
        vTextureCoord = aTextureCoord;
    }
</script> 




<script id="shader-fs" type="x-shader/x-fragment">
    #ifdef GL_ES
    precision highp float;
    #endif

    varying vec4 vColor;

    void main(void) {
        gl_FragColor = vColor;
    }
</script>
<script id="shader-vs" type="x-shader/x-vertex">
    attribute vec3 aVertexPosition;

    uniform mat4 uPMatrix;

    varying vec4 vColor;

    void main(void) {
        gl_Position = uPMatrix * vec4(aVertexPosition, 1.0);
        vColor[0] = 0.5;
        vColor[1] = 0.5;
        vColor[2] = 1.0;
        vColor[3] = 1.0;
    }
</script>






 
<script type="text/javascript"> 



var gl;
var CANVAS_OFFSET_LEFT;
var CANVAS_OFFSET_TOP;

    function initGL(canvas) {
        try {
            gl = canvas.getContext("experimental-webgl");
            gl.viewportWidth = canvas.width;
            gl.viewportHeight = canvas.height;
        } catch (e) {
        }
        if (!gl) {
            alert("Could not initialise WebGL, sorry :-(");
        }
    }
 
 
    function getShader(gl, id) {
        var shaderScript = document.getElementById(id);
        if (!shaderScript) {
            return null;
        }
 
        var str = "";
        var k = shaderScript.firstChild;
        while (k) {
            if (k.nodeType == 3) {
                str += k.textContent;
            }
            k = k.nextSibling;
        }
 
        var shader;
        if (shaderScript.type == "x-shader/x-fragment") {
            shader = gl.createShader(gl.FRAGMENT_SHADER);
        } else if (shaderScript.type == "x-shader/x-vertex") {
            shader = gl.createShader(gl.VERTEX_SHADER);
        } else {
            return null;
        }
 
        gl.shaderSource(shader, str);
        gl.compileShader(shader);
 
        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
            alert(gl.getShaderInfoLog(shader));
            return null;
        }
 
        return shader;
    }
 
 
    function createProgram(fragmentShaderID, vertexShaderID) {
        var fragmentShader = getShader(gl, fragmentShaderID);
        var vertexShader = getShader(gl, vertexShaderID);
 
        var program = gl.createProgram();
        gl.attachShader(program, vertexShader);
        gl.attachShader(program, fragmentShader);
        gl.linkProgram(program);
 
        if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
            alert("Could not initialise shaders");
        }
 
        program.vertexPositionAttribute = gl.getAttribLocation(program, "aVertexPosition");
        gl.enableVertexAttribArray(program.vertexPositionAttribute);
 
        program.textureCoordAttribute = gl.getAttribLocation(program, "aTextureCoord");
        gl.enableVertexAttribArray(program.textureCoordAttribute);
 
        // Camera
        program.pMatrixUniform = gl.getUniformLocation(program, "uPMatrix");
        // Piece matrix
        program.mvMatrixUniform = gl.getUniformLocation(program, "uMVMatrix");
        // Texture
        program.samplerUniform = gl.getUniformLocation(program, "uSampler");

        return program;
    }
 

    var imageProgram;
    var shaderProgram2;

    function initShaders() {
        imageProgram = createProgram("tex-shader-f", "tex-shader-v");

        var fragmentShader2 = getShader(gl, "shader-fs");
        var vertexShader2 = getShader(gl, "shader-vs");

        shaderProgram2 = gl.createProgram();
        gl.attachShader(shaderProgram2, vertexShader2);
        gl.attachShader(shaderProgram2, fragmentShader2);
        gl.linkProgram(shaderProgram2);
        if (!gl.getProgramParameter(shaderProgram2, gl.LINK_STATUS)) {
            alert("Could not initialise shaders");
        }
        gl.useProgram(shaderProgram2);

        shaderProgram2.vertexPositionAttribute = gl.getAttribLocation(shaderProgram2, "aVertexPosition");
        gl.enableVertexAttribArray(shaderProgram2.vertexPositionAttribute);

        shaderProgram2.pMatrixUniform = gl.getUniformLocation(shaderProgram2, "uPMatrix");
    }
 
 
    function webGLStart() {
        var canvas = document.getElementById("viewer-canvas");
        initGL(canvas);
        CANVAS_OFFSET_LEFT = canvas.offsetLeft;
        CANVAS_OFFSET_TOP  = canvas.offsetTop;
        initShaders();

        PUZZLE = new Puzzle();
        CAMERA = new Camera(gl.viewportWidth, gl.viewportHeight);
        PUZZLE.InitCamera(CAMERA);

        gl.clearColor(0.0, 0.0, 0.2, 1.0);
        gl.enable(gl.DEPTH_TEST);
 
        canvas.onmousedown = handleMouseDown;
        document.onmouseup = handleMouseUp;
        document.onmousemove = handleMouseMove;

        document.onkeydown = handleKeyDown;
        document.onkeyup = handleKeyUp;
 
        tick();
    }
 
</script> 
 
 
</head> 
 

<style>
body,h1,h2,h3,h4,h5,h6 {font-family: "Raleway", sans-serif}

body, html {
  height: 100%;
  line-height: 1.8;
}

/* Full height image header */
.bgimg-1 {
  background-position: center;
  background-size: cover;
  background-image: url("https://cdn.pixabay.com/photo/2019/11/17/17/01/neuron-4632883_1280.jpg");
  min-height: 100%;
}

.w3-bar .w3-button {
  padding: 16px;
}
</style>

<body onload="webGLStart();" style="background-color:#003">
<!-- Navbar (sit on top) -->
<div class="w3-top">
  <div class="w3-bar w3-white w3-card" id="myNavbar">
    <a href="../../index.html" class="w3-bar-item w3-button w3-wide"><img src="../static/images/neureon.jpg" alt="logo" width="170" height="40"></a>
    <!-- Right-sided navbar links -->
  </div>
</div>

<!-- Sidebar on small screens when clicking the menu icon -->
<nav class="w3-sidebar w3-bar-block w3-black w3-card w3-animate-left w3-hide-medium w3-hide-large" style="display:none" id="mySidebar">
  <a href="javascript:void(0)" onclick="w3_close()" class="w3-bar-item w3-button w3-large w3-padding-16">Close Ã—</a>
  <a href="#about" onclick="w3_close()" class="w3-bar-item w3-button">ABOUT</a>
  <a href="#team" onclick="w3_close()" class="w3-bar-item w3-button">TEAM</a>
  <a href="#work" onclick="w3_close()" class="w3-bar-item w3-button">WORK</a>
  <a href="#pricing" onclick="w3_close()" class="w3-bar-item w3-button">PRICING</a>
  <a href="#contact" onclick="w3_close()" class="w3-bar-item w3-button">CONTACT</a>
</nav>

<div style="margin:5em; display:block; margin-left:auto; margin-right:auto; width:900">

			">
  <canvas id="viewer-canvas" style="margin:auto" width="800" height="800"></canvas> 
   <br/> 
   <ul style="color:white; font-size: 2em;">
     <li> Left mouse rotates the view. </li>
     <li> Any key stops the animation. </li>
     <li> Click and drag middle mouse over pieces to make a move. </li>
     <li> Left arrow key will undo moves. </li>
   </ul>
</div>

<div>
  <button type="button" onclick="StartSequence()">Start</button>
  <button type="button" onclick="PrintSequence()">Print</button>
</div>

<div>
  <button type="button" onclick="StartMacro()">Start</button>
  <button type="button" onclick="StopMacro()">Stop</button>
  <button type="button" onclick="ReverseMacro()">Reverse</button>
</div>
  
<div>
  <button type="button" onclick="SolvePuzzle()">Solve</button>
</div>
  
</body> 
 
</html> 
